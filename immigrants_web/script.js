// ===== Common elements for both pages =====
document.addEventListener('DOMContentLoaded', () => {
  // Language dropdown
  const langBtn = document.getElementById('langMenuBtn');
  const langDropdown = document.getElementById('langDropdown');

  if (langBtn && langDropdown) {
    langBtn.addEventListener('click', () => {
      langDropdown.style.display = langDropdown.style.display === 'block' ? 'none' : 'block';
    });
  }

  langDropdown?.querySelectorAll('li').forEach(li => {
    li.addEventListener('click', () => {
      const lang = li.dataset.lang;
      localStorage.setItem('appLang', lang);
      applyTranslations();
      langDropdown.style.display = 'none';
    });
  });

  const translations = {
    pl: {
      welcome: 'Witamy w aplikacji dla obcokrajowc√≥w',
      assistantPlaceholder: 'Zapytaj asystenta...',
      menuFirstSteps: 'Pierwsze kroki',
      menuSurvey: 'Ankieta',
      menuKnowledge: 'Baza wiedzy',
      menuHelp: 'Pomoc',
      phonePolice: 'Policja',
      phoneCityHall: 'UrzƒÖd Miasta',
      phoneMunicipal: 'Stra≈º Miejska',
      phoneImmigrantCenter: 'Centrum dla Imigrant√≥w',
      sports: 'Sport',
      culture: 'Kultura',
      recreation: 'Wypoczynek',
      hobby: 'Hobby',
      religion: 'Religia',
      uta: 'Uniwersytet Trzeciego Wieku',
      survey1: 'Czy jeste≈õ obcokrajowcem?',
      survey2: 'Jaki jest cel Twojej wizyty?',
      survey3: 'Liczba dzieci:',
      survey4: 'Wykszta≈Çcenie:',
      tourist: 'Turysta',
      jobStay: 'Chcƒô zostaƒá (np. praca)',
      zero: '0',
      one: '1',
      two: '2',
      moreThanTwo: 'Wiƒôcej ni≈º 2',
      submitBtn: 'Wy≈õlij',
      yes: 'Tak',
      no: 'Nie',
      primary: 'Podstawowe',
      secondary: '≈örednie',
      higher: 'Wy≈ºsze',
      language: 'Jƒôzyk',
      home: 'Strona g≈Ç√≥wna',
      title: "Pierwsze kroki ‚Äî Aplikacja P≈Çock",
      languageButton: "üåê Jƒôzyk",
      firstSteps: "Pierwsze kroki",
      communication: "Komunikacja",
      publicTransport: "Transport publiczny",
      cityBike: "rower miejski",
      pkm: "PKM",
      kmTimetables: "Rozk≈Çady KM",
      ownTransport: "Transport w≈Çasny",
      drivingLicense: "Prawo jazdy",
      trafficLaw: "Prawo o ruchu drogowym",
      vehicleRegistration: "Rejestracja pojazdu",
      stay: "Pobyt",
      personalDocuments: "Dokumenty osobiste",
      pesel: "PESEL",
      residenceCard: "Karta pobytu",
      citizenshipVisa: "Obywatelstwo / Wiza",
      services: "Us≈Çugi",
      polishNumber: "Polski numer telefonu",
      insurance: "Ubezpieczenie",
      bankAccount: "Konto bankowe",
      workBusiness: "Praca i biznes",
      employment: "Zatrudnienie",
      workPermit: "Pozwolenie na pracƒô",
      employmentOffice: "UrzƒÖd pracy",
      centralWorkDatabase: "Centralna baza danych o pracy",
      businessRegistration: "Rejestracja dzia≈Çalno≈õci",
      ceidg: "CEIDG",
      krs: "Krajowy Rejestr SƒÖdowy (KRS)",
      housing: "Mieszkanie",
      apartment: "Mieszkanie",
      buyProperty: "Kup nieruchomo≈õƒá",
      rentProperty: "Wynajem nieruchomo≈õci",
      socialHousing: "Mieszkania socjalne",
      collectiveAccommodation: "zakwaterowanie zbiorowe",
      education: "Edukacja",
      schooling: "Szkolnictwo",
      nursery: "Przedszkole",
      primary: "Szko≈Ça podstawowa",
      secondary: "Szko≈Ça ≈õrednia",
      adultEducation: "Edukacja doros≈Çych",
      healthSocial: "Zdrowie i spo≈Çecze≈Ñstwo",
      healthServices: "Us≈Çugi zdrowotne",
      legalAid: "Pomoc prawna",
      primaryCare: "Wyb√≥r przychodni podstawowej",
      nfzTreatment: "Leczenie NFZ",
      pharmacy: "Apteka",
      pug: "PUG",
      prescription: "Recepta",
      freeTime: "Czas wolny",
      activities: "Aktywno≈õci",
      eventsCalendar: "Kalendarz wydarze≈Ñ",
      plockArta: "P≈ÅOCK ARTA",
      plockLibrary: "Biblioteka P≈Çocka",
      sports: "Sport",
      culture: "Kultura",
      recreation: "Rekreacja",
      hobby: "Hobby",
      religion: "Religia",
      uta: "Uniwersytet Trzeciego Wieku",
      surveyResults: "Wyniki ankiety",
      foreigner: "Obcokrajowiec",
      purpose: "Cel wizyty",
      children: "Dzieci",
      education: "Wykszta≈Çcenie",
      stay: "Pobyt",
      kids: "Dzieci",
      kindergarten: "Przedszkole",
      adults: "Doro≈õli",
      health: "Zdrowie",
      socialAffairs: "Opieka spo≈Çeczna",
      lookingForJob: "Szukam pracy",
      nhfTreatment: "Gdzie uzyskaƒá leczenie - Narodowy Fundusz Zdrowia",
      assistantPlaceholder: 'Zapytaj asystenta...',

    },
    en: {
      welcome: 'Welcome to the app for foreigners',
      assistantPlaceholder: 'Ask the assistant...',
      menuFirstSteps: 'First Steps',
      menuSurvey: 'Survey',
      menuKnowledge: 'Knowledge Base',
      menuHelp: 'Help',
      phonePolice: 'Police',
      phoneCityHall: 'City Hall',
      phoneMunicipal: 'Municipal Police',
      phoneImmigrantCenter: 'Center for Immigrants',
      sports: 'Sports',
      culture: 'Culture',
      recreation: 'Recreation',
      hobby: 'Hobby',
      religion: 'Religion',
      uta: 'University of the Third Age',
      survey1: 'Are you a foreigner?',
      survey2: 'What is the purpose of your visit?',
      survey3: 'Number of children:',
      survey4: 'Education:',
      tourist: 'Tourist',
      jobStay: 'I want to stay (e.g., work)',
      zero: '0',
      one: '1',
      two: '2',
      moreThanTwo: 'More than 2',
      submitBtn: 'Submit',
      primary: 'Primary',
      secondary: 'Secondary',
      higher: 'Higher',
      tourist: 'Tourist',
      jobStay: 'I want to stay (e.g. job)',
      submitBtn: 'Submit',
      home: 'Home',
      language: 'Language',
      title: "First Steps ‚Äî P≈Çock App",
      languageButton: "üåê Language",
      firstSteps: "First Steps",
      communication: "Communication",
      publicTransport: "Public transport",
      cityBike: "city bike",
      pkm: "PKM",
      kmTimetables: "KM timetables",
      ownTransport: "Own transport",
      drivingLicense: "driving license",
      trafficLaw: "traffic law",
      vehicleRegistration: "vehicle registration",
      stay: "Stay",
      personalDocuments: "Personal documents",
      pesel: "PESEL",
      residenceCard: "Residence card",
      citizenshipVisa: "Citizenship / Visa",
      services: "Services",
      polishNumber: "Polish telephone number",
      insurance: "Insurance",
      bankAccount: "Bank account",
      workBusiness: "Work & Business",
      employment: "Employment",
      workPermit: "Work permit",
      employmentOffice: "Employment office",
      centralWorkDatabase: "Central work database",
      businessRegistration: "Business registration",
      ceidg: "CEIDG",
      krs: "National Court Register (KRS)",
      housing: "Housing",
      apartment: "Apartment",
      buyProperty: "Buy property",
      rentProperty: "Rent property",
      socialHousing: "Social housing",
      collectiveAccommodation: "collective accommodation",
      education: "Education",
      schooling: "Schooling",
      nursery: "Nursery / Kindergarten",
      primary: "Primary school",
      secondary: "Secondary school",
      adultEducation: "Adult education",
      healthSocial: "Health & Social",
      healthServices: "Health services",
      legalAid: "Legal aid",
      primaryCare: "Primary care clinic selection",
      nfzTreatment: "NFZ treatment",
      pharmacy: "Pharmacy",
      pug: "PUG",
      prescription: "Prescription",
      freeTime: "Free Time",
      activities: "Activities",
      eventsCalendar: "Events calendar",
      plockArta: "P≈ÅOCK ARTA",
      plockLibrary: "P≈Çock Library",
      sports: "Sports",
      culture: "Culture",
      recreation: "Recreation",
      hobby: "Hobby",
      religion: "Religion",
      uta: "University of the Third Age",
      surveyResults: "Survey Results",
      foreigner: "Foreigner",
      purpose: "Purpose",
      children: "Children",
      education: "Education",
      yes: "Yes",
      no: "No",
      stay: "Stay",
      kids: "Kids",
      kindergarten: "Kindergarten",
      adults: "Adults",
      health: "Health",
      socialAffairs: "Social affairs",
      lookingForJob: "I'm looking for a job",
      nhfTreatment: "Where to get treatment - National Health Fund",
      assistantPlaceholder: 'Ask the assistant...',

    },
    ua: {
      welcome: '–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ –¥–æ –¥–æ–¥–∞—Ç–∫—É –¥–ª—è —ñ–Ω–æ–∑–µ–º—Ü—ñ–≤',
      assistantPlaceholder: '–ó–∞–ø–∏—Ç–∞–π—Ç–µ –ø–æ–º—ñ—á–Ω–∏–∫–∞...',
      menuFirstSteps: '–ü–µ—Ä—à—ñ –∫—Ä–æ–∫–∏',
      menuSurvey: '–û–ø–∏—Ç—É–≤–∞–Ω–Ω—è',
      menuKnowledge: '–ë–∞–∑–∞ –∑–Ω–∞–Ω—å',
      menuHelp: '–î–æ–ø–æ–º–æ–≥–∞',
      phonePolice: '–ü–æ–ª—ñ—Ü—ñ—è',
      phoneCityHall: '–ú—ñ—Å—å–∫–∞ —Ä–∞–¥–∞',
      phoneMunicipal: '–ú—É–Ω—ñ—Ü–∏–ø–∞–ª—å–Ω–∞ –ø–æ–ª—ñ—Ü—ñ—è',
      phoneImmigrantCenter: '–¶–µ–Ω—Ç—Ä –¥–ª—è —ñ–º–º—ñ–≥—Ä–∞–Ω—Ç—ñ–≤',
      sports: '–°–ø–æ—Ä—Ç',
      culture: '–ö—É–ª—å—Ç—É—Ä–∞',
      recreation: '–í—ñ–¥–ø–æ—á–∏–Ω–æ–∫',
      hobby: '–•–æ–±—ñ',
      religion: '–†–µ–ª—ñ–≥—ñ—è',
      uta: '–£–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç —Ç—Ä–µ—Ç—å–æ–≥–æ –≤—ñ–∫—É',
      survey1: '–í–∏ —ñ–Ω–æ–∑–µ–º–µ—Ü—å?',
      survey2: '–Ø–∫–∞ –º–µ—Ç–∞ –≤–∞—à–æ–≥–æ –≤—ñ–∑–∏—Ç—É?',
      survey3: '–ö—ñ–ª—å–∫—ñ—Å—Ç—å –¥—ñ—Ç–µ–π:',
      survey4: '–û—Å–≤—ñ—Ç–∞:',
      tourist: '–¢—É—Ä–∏—Å—Ç',
      jobStay: '–•–æ—á—É –∑–∞–ª–∏—à–∏—Ç–∏—Å—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Ä–æ–±–æ—Ç–∞)',
      zero: '0',
      one: '1',
      two: '2',
      moreThanTwo: '–ë—ñ–ª—å—à–µ –Ω—ñ–∂ 2',
      submitBtn: '–ù–∞–¥—ñ—Å–ª–∞—Ç–∏',
      yes: '–¢–∞–∫',
      no: '–ù—ñ',
      primary: '–ü–æ—á–∞—Ç–∫–æ–≤–∞',
      secondary: '–°–µ—Ä–µ–¥–Ω—è',
      higher: '–í–∏—â–∞',
      language: '–ú–æ–≤–∞',
      home: '–ì–æ–ª–æ–≤–Ω–∞',
      title: "–ü–µ—Ä—à—ñ –∫—Ä–æ–∫–∏ ‚Äî –î–æ–¥–∞—Ç–æ–∫ –ü–ª–æ—Ü—å–∫",
      languageButton: "üåê –ú–æ–≤–∞",
      firstSteps: "–ü–µ—Ä—à—ñ –∫—Ä–æ–∫–∏",
      communication: "–ö–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è",
      publicTransport: "–ì—Ä–æ–º–∞–¥—Å—å–∫–∏–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç",
      cityBike: "–º—ñ—Å—å–∫–∏–π –≤–µ–ª–æ—Å–∏–ø–µ–¥",
      pkm: "PKM",
      kmTimetables: "–†–æ–∑–∫–ª–∞–¥ KM",
      ownTransport: "–í–ª–∞—Å–Ω–∏–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç",
      drivingLicense: "–í–æ–¥—ñ–π—Å—å–∫–µ –ø–æ—Å–≤—ñ–¥—á–µ–Ω–Ω—è",
      trafficLaw: "–ü—Ä–∞–≤–∏–ª–∞ –¥–æ—Ä–æ–∂–Ω—å–æ–≥–æ —Ä—É—Ö—É",
      vehicleRegistration: "–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ –∑–∞—Å–æ–±—É",
      stay: "–ü—Ä–æ–∂–∏–≤–∞–Ω–Ω—è",
      personalDocuments: "–û—Å–æ–±–∏—Å—Ç—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∏",
      pesel: "PESEL",
      residenceCard: "–ö–∞—Ä—Ç–∞ –ø—Ä–æ–∂–∏–≤–∞–Ω–Ω—è",
      citizenshipVisa: "–ì—Ä–æ–º–∞–¥—è–Ω—Å—Ç–≤–æ / –í—ñ–∑–∞",
      services: "–ü–æ—Å–ª—É–≥–∏",
      polishNumber: "–ü–æ–ª—å—Å—å–∫–∏–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É",
      insurance: "–°—Ç—Ä–∞—Ö—É–≤–∞–Ω–Ω—è",
      bankAccount: "–ë–∞–Ω–∫—ñ–≤—Å—å–∫–∏–π —Ä–∞—Ö—É–Ω–æ–∫",
      workBusiness: "–†–æ–±–æ—Ç–∞ —Ç–∞ –±—ñ–∑–Ω–µ—Å",
      employment: "–ü—Ä–∞—Ü–µ–≤–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è",
      workPermit: "–î–æ–∑–≤—ñ–ª –Ω–∞ —Ä–æ–±–æ—Ç—É",
      employmentOffice: "–ë—é—Ä–æ –ø—Ä–∞—Ü—ñ",
      centralWorkDatabase: "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö —Ä–æ–±–æ—Ç–∏",
      businessRegistration: "–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –±—ñ–∑–Ω–µ—Å—É",
      ceidg: "CEIDG",
      krs: "–ù–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π —Å—É–¥–æ–≤–∏–π —Ä–µ—î—Å—Ç—Ä (KRS)",
      housing: "–ñ–∏—Ç–ª–æ",
      apartment: "–ö–≤–∞—Ä—Ç–∏—Ä–∞",
      buyProperty: "–ö—É–ø–∏—Ç–∏ –Ω–µ—Ä—É—Ö–æ–º—ñ—Å—Ç—å",
      rentProperty: "–û—Ä–µ–Ω–¥–∞ –Ω–µ—Ä—É—Ö–æ–º–æ—Å—Ç—ñ",
      socialHousing: "–°–æ—Ü—ñ–∞–ª—å–Ω–µ –∂–∏—Ç–ª–æ",
      collectiveAccommodation: "–∫–æ–ª–µ–∫—Ç–∏–≤–Ω–µ –ø—Ä–æ–∂–∏–≤–∞–Ω–Ω—è",
      education: "–û—Å–≤—ñ—Ç–∞",
      schooling: "–ù–∞–≤—á–∞–Ω–Ω—è",
      nursery: "–î–∏—Ç—è—á–∏–π —Å–∞–¥–æ–∫",
      primary: "–ü–æ—á–∞—Ç–∫–æ–≤–∞ —à–∫–æ–ª–∞",
      secondary: "–°–µ—Ä–µ–¥–Ω—è —à–∫–æ–ª–∞",
      adultEducation: "–û—Å–≤—ñ—Ç–∞ –¥–ª—è –¥–æ—Ä–æ—Å–ª–∏—Ö",
      healthSocial: "–ó–¥–æ—Ä–æ–≤‚Äô—è —Ç–∞ —Å–æ—Ü—ñ–∞–ª—å–Ω—ñ –ø–æ—Å–ª—É–≥–∏",
      healthServices: "–ú–µ–¥–∏—á–Ω—ñ –ø–æ—Å–ª—É–≥–∏",
      legalAid: "–Æ—Ä–∏–¥–∏—á–Ω–∞ –¥–æ–ø–æ–º–æ–≥–∞",
      primaryCare: "–í–∏–±—ñ—Ä –∫–ª—ñ–Ω—ñ–∫–∏ –ø–µ—Ä–≤–∏–Ω–Ω–æ—ó –¥–æ–ø–æ–º–æ–≥–∏",
      nfzTreatment: "–õ—ñ–∫—É–≤–∞–Ω–Ω—è NFZ",
      pharmacy: "–ê–ø—Ç–µ–∫–∞",
      pug: "PUG",
      prescription: "–†–µ—Ü–µ–ø—Ç",
      freeTime: "–í—ñ–ª—å–Ω–∏–π —á–∞—Å",
      activities: "–î—ñ—è–ª—å–Ω—ñ—Å—Ç—å",
      eventsCalendar: "–ö–∞–ª–µ–Ω–¥–∞—Ä –ø–æ–¥—ñ–π",
      plockArta: "P≈ÅOCK ARTA",
      plockLibrary: "–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ –ü–ª–æ—Ü—å–∫–∞",
      sports: "–°–ø–æ—Ä—Ç",
      culture: "–ö—É–ª—å—Ç—É—Ä–∞",
      recreation: "–í—ñ–¥–ø–æ—á–∏–Ω–æ–∫",
      hobby: "–•–æ–±—ñ",
      religion: "–†–µ–ª—ñ–≥—ñ—è",
      uta: "–£–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç —Ç—Ä–µ—Ç—å–æ–≥–æ –≤—ñ–∫—É",
      surveyResults: "–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è",
      foreigner: "–Ü–Ω–æ–∑–µ–º–µ—Ü—å",
      purpose: "–ú–µ—Ç–∞ –≤—ñ–∑–∏—Ç—É",
      children: "–î—ñ—Ç–∏",
      education: "–û—Å–≤—ñ—Ç–∞",
      stay: "–ü–µ—Ä–µ–±—É–≤–∞–Ω–Ω—è",
      kids: "–î—ñ—Ç–∏",
      kindergarten: "–î–∏—Ç—è—á–∏–π —Å–∞–¥–æ–∫",
      adults: "–î–æ—Ä–æ—Å–ª—ñ",
      health: "–ó–¥–æ—Ä–æ–≤‚Äô—è",
      socialAffairs: "–°–æ—Ü—ñ–∞–ª—å–Ω—ñ –ø–æ—Å–ª—É–≥–∏",
      lookingForJob: "–®—É–∫–∞—é —Ä–æ–±–æ—Ç—É",
      nhfTreatment: "–î–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ –ª—ñ–∫—É–≤–∞–Ω–Ω—è ‚Äî –ù–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π —Ñ–æ–Ω–¥ –æ—Ö–æ—Ä–æ–Ω–∏ –∑–¥–æ—Ä–æ–≤‚Äô—è",
      assistantPlaceholder: '–ó–∞–ø–∏—Ç–∞–π—Ç–µ –ø–æ–º—ñ—á–Ω–∏–∫–∞...',

    },
    ru: {
      welcome: '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∏–Ω–æ—Å—Ç—Ä–∞–Ω—Ü–µ–≤',
      assistantPlaceholder: '–°–ø—Ä–æ—Å–∏—Ç–µ –ø–æ–º–æ—â–Ω–∏–∫–∞...',
      menuFirstSteps: '–ü–µ—Ä–≤—ã–µ —à–∞–≥–∏',
      menuSurvey: '–û–ø—Ä–æ—Å',
      menuKnowledge: '–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π',
      menuHelp: '–ü–æ–º–æ—â—å',
      phonePolice: '–ü–æ–ª–∏—Ü–∏—è',
      phoneCityHall: '–ì–æ—Ä–æ–¥—Å–∫–∞—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è',
      phoneMunicipal: '–ú—É–Ω–∏—Ü–∏–ø–∞–ª—å–Ω–∞—è –ø–æ–ª–∏—Ü–∏—è',
      phoneImmigrantCenter: '–¶–µ–Ω—Ç—Ä –¥–ª—è –∏–º–º–∏–≥—Ä–∞–Ω—Ç–æ–≤',
      sports: '–°–ø–æ—Ä—Ç',
      culture: '–ö—É–ª—å—Ç—É—Ä–∞',
      recreation: '–û—Ç–¥—ã—Ö',
      hobby: '–•–æ–±–±–∏',
      religion: '–†–µ–ª–∏–≥–∏—è',
      uta: '–£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç —Ç—Ä–µ—Ç—å–µ–≥–æ –≤–æ–∑—Ä–∞—Å—Ç–∞',
      survey1: '–í—ã –∏–Ω–æ—Å—Ç—Ä–∞–Ω–µ—Ü?',
      survey2: '–¶–µ–ª—å –≤–∞—à–µ–≥–æ –≤–∏–∑–∏—Ç–∞?',
      survey3: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ—Ç–µ–π:',
      survey4: '–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ:',
      tourist: '–¢—É—Ä–∏—Å—Ç',
      jobStay: '–•–æ—á—É –æ—Å—Ç–∞—Ç—å—Å—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞–±–æ—Ç–∞)',
      zero: '0',
      one: '1',
      two: '2',
      moreThanTwo: '–ë–æ–ª–µ–µ 2',
      submitBtn: '–û—Ç–ø—Ä–∞–≤–∏—Ç—å',
      yes: '–î–∞',
      no: '–ù–µ—Ç',
      primary: '–ù–∞—á–∞–ª—å–Ω–æ–µ',
      secondary: '–°—Ä–µ–¥–Ω–µ–µ',
      higher: '–í—ã—Å—à–µ–µ',
      language: '–Ø–∑—ã–∫',
      home: '–ì–ª–∞–≤–Ω–∞—è',
      title: "–ü–µ—Ä–≤—ã–µ —à–∞–≥–∏ ‚Äî –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ü–ª–æ—Ü–∫",
      languageButton: "üåê –Ø–∑—ã–∫",
      firstSteps: "–ü–µ—Ä–≤—ã–µ —à–∞–≥–∏",
      communication: "–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è",
      publicTransport: "–û–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç",
      cityBike: "–≥–æ—Ä–æ–¥—Å–∫–æ–π –≤–µ–ª–æ—Å–∏–ø–µ–¥",
      pkm: "PKM",
      kmTimetables: "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ KM",
      ownTransport: "–°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç",
      drivingLicense: "–í–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–µ —É–¥–æ—Å—Ç–æ–≤–µ—Ä–µ–Ω–∏–µ",
      trafficLaw: "–ü—Ä–∞–≤–∏–ª–∞ –¥–æ—Ä–æ–∂–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è",
      vehicleRegistration: "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ —Å—Ä–µ–¥—Å—Ç–≤–∞",
      stay: "–ü—Ä–æ–∂–∏–≤–∞–Ω–∏–µ",
      personalDocuments: "–õ–∏—á–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã",
      pesel: "PESEL",
      residenceCard: "–ö–∞—Ä—Ç–∞ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è",
      citizenshipVisa: "–ì—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–æ / –í–∏–∑–∞",
      services: "–°–µ—Ä–≤–∏—Å—ã",
      polishNumber: "–ü–æ–ª—å—Å–∫–∏–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞",
      insurance: "–°—Ç—Ä–∞—Ö–æ–≤–∫–∞",
      bankAccount: "–ë–∞–Ω–∫–æ–≤—Å–∫–∏–π —Å—á–µ—Ç",
      workBusiness: "–†–∞–±–æ—Ç–∞ –∏ –±–∏–∑–Ω–µ—Å",
      employment: "–¢—Ä—É–¥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ",
      workPermit: "–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —Ä–∞–±–æ—Ç—É",
      employmentOffice: "–ë—é—Ä–æ –∑–∞–Ω—è—Ç–æ—Å—Ç–∏",
      centralWorkDatabase: "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç—ã",
      businessRegistration: "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –±–∏–∑–Ω–µ—Å–∞",
      ceidg: "CEIDG",
      krs: "–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—É–¥–æ–≤–æ–π —Ä–µ–µ—Å—Ç—Ä (KRS)",
      housing: "–ñ–∏–ª—å—ë",
      apartment: "–ö–≤–∞—Ä—Ç–∏—Ä–∞",
      buyProperty: "–ö—É–ø–∏—Ç—å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å",
      rentProperty: "–ê—Ä–µ–Ω–¥–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏",
      socialHousing: "–°–æ—Ü–∏–∞–ª—å–Ω–æ–µ –∂–∏–ª—å—ë",
      collectiveAccommodation: "–∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω–æ–µ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏–µ",
      education: "–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ",
      schooling: "–û–±—É—á–µ–Ω–∏–µ",
      nursery: "–î–µ—Ç—Å–∫–∏–π —Å–∞–¥",
      primary: "–ù–∞—á–∞–ª—å–Ω–∞—è —à–∫–æ–ª–∞",
      secondary: "–°—Ä–µ–¥–Ω—è—è —à–∫–æ–ª–∞",
      adultEducation: "–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤–∑—Ä–æ—Å–ª—ã—Ö",
      healthSocial: "–ó–¥–æ—Ä–æ–≤—å–µ –∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏",
      healthServices: "–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ —É—Å–ª—É–≥–∏",
      legalAid: "–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –ø–æ–º–æ—â—å",
      primaryCare: "–í—ã–±–æ—Ä –ø–æ–ª–∏–∫–ª–∏–Ω–∏–∫–∏ –ø–µ—Ä–≤–∏—á–Ω–æ–π –ø–æ–º–æ—â–∏",
      nfzTreatment: "–õ–µ—á–µ–Ω–∏–µ NFZ",
      pharmacy: "–ê–ø—Ç–µ–∫–∞",
      pug: "PUG",
      prescription: "–†–µ—Ü–µ–ø—Ç",
      freeTime: "–°–≤–æ–±–æ–¥–Ω–æ–µ –≤—Ä–µ–º—è",
      activities: "–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è",
      eventsCalendar: "–ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å–æ–±—ã—Ç–∏–π",
      plockArta: "P≈ÅOCK ARTA",
      plockLibrary: "–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ü–ª–æ—Ü–∫–∞",
      sports: "–°–ø–æ—Ä—Ç",
      culture: "–ö—É–ª—å—Ç—É—Ä–∞",
      recreation: "–û—Ç–¥—ã—Ö",
      hobby: "–•–æ–±–±–∏",
      religion: "–†–µ–ª–∏–≥–∏—è",
      uta: "–£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç —Ç—Ä–µ—Ç—å–µ–≥–æ –≤–æ–∑—Ä–∞—Å—Ç–∞",
      surveyResults: "–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ä–æ—Å–∞",
      foreigner: "–ò–Ω–æ—Å—Ç—Ä–∞–Ω–µ—Ü",
      purpose: "–¶–µ–ª—å –≤–∏–∑–∏—Ç–∞",
      children: "–î–µ—Ç–∏",
      education: "–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ",
      stay: "–ü—Ä–æ–∂–∏–≤–∞–Ω–∏–µ",
      kids: "–î–µ—Ç–∏",
      kindergarten: "–î–µ—Ç—Å–∫–∏–π —Å–∞–¥",
      adults: "–í–∑—Ä–æ—Å–ª—ã–µ",
      health: "–ó–¥–æ—Ä–æ–≤—å–µ",
      socialAffairs: "–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏",
      lookingForJob: "–ò—â—É —Ä–∞–±–æ—Ç—É",
      nhfTreatment: "–ì–¥–µ –ø–æ–ª—É—á–∏—Ç—å –ª–µ—á–µ–Ω–∏–µ ‚Äî –ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ñ–æ–Ω–¥ –∑–¥—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è",
      assistantPlaceholder: '–°–ø—Ä–æ—Å–∏—Ç–µ –ø–æ–º–æ—â–Ω–∏–∫–∞...',


    }
  };

  function applyTranslations() {
    const lang = localStorage.getItem('appLang') || 'en';

    // Translate elements with data-translate
    document.querySelectorAll('[data-translate]').forEach(el => {
      const key = el.dataset.translate;
      if (translations[lang]?.[key]) {
        if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
          el.placeholder = translations[lang][key];
        } else {
          el.innerText = translations[lang][key];
        }
      }
    });

    document.querySelectorAll('[data-lang-key]').forEach(el => {
      const key = el.dataset.langKey;
      if (translations[lang] && translations[lang][key]) {
        el.textContent = translations[lang][key]; // only changes the text inside <span>
      }
    });


    // Translate survey labels and submit button if exists
    const surveyForm = document.getElementById('survey');
    if (surveyForm) {
      const labels = surveyForm.querySelectorAll('label');
      labels.forEach((label, idx) => {
        if (idx === 0) label.firstChild.textContent = translations[lang].survey1;
        else if (idx === 3) label.firstChild.textContent = translations[lang].survey2;
        else if (idx === 6) label.firstChild.textContent = translations[lang].survey3;
        else if (idx === 11) label.firstChild.textContent = translations[lang].survey4;
      });

      const submitBtn = surveyForm.querySelector('button[type="submit"]');
      if (submitBtn) submitBtn.innerText = translations[lang].submitBtn;
    }
  }



  applyTranslations();

  // ===== Hamburger & phone dropdown for index.html =====
  const menuBtn = document.getElementById('hamburger');
  const menuDropdown = document.getElementById('menuDropdown');
  if (menuBtn && menuDropdown) {
    menuBtn.addEventListener('click', () => {
      menuDropdown.style.display = menuDropdown.style.display === 'block' ? 'none' : 'block';
    });
  }

  const phoneBtn = document.getElementById('phoneBtn');
  const phoneDropdown = document.getElementById('phoneDropdown');
  if (phoneBtn && phoneDropdown) {
    phoneBtn.addEventListener('click', () => {
      phoneDropdown.style.display = phoneDropdown.style.display === 'block' ? 'none' : 'block';
    });
  }

  // ===== Assistant FAB (index.html) =====
  const chatFab = document.getElementById('chatFab');
  if (chatFab) {
    chatFab.addEventListener('click', () => {
      document.getElementById('assistantInput').focus();
    });
  }


const resultContainer = document.getElementById('result');
if (resultContainer) {
  resultContainer.innerHTML = '';      // clear previous results
  resultContainer.style.display = 'none'; // hide container
}

// ===== Survey Handling (questionnaire.html) =====
  const surveyForm = document.getElementById('survey');
  if (surveyForm) {
    surveyForm.addEventListener('submit', (e) => {
      e.preventDefault();

      const lang = localStorage.getItem('appLang') || 'en';
      const formData = new FormData(surveyForm);
      let resultHtml = `<h3>${translations[lang].surveyResults || 'Survey Results'}</h3><ul>`;

      formData.forEach((value, key) => {
        let questionText = translations[lang][key] || key;
        resultHtml += `<li><strong>${questionText}:</strong> ${value}</li>`;
      });

      resultHtml += '</ul>';

      const resultContainer = document.getElementById('result');
      if (resultContainer) {
        resultContainer.innerHTML = resultHtml;
        resultContainer.style.display = 'block'; // make sure it's visible
      }

      surveyForm.reset();
    });
  }

  

});
